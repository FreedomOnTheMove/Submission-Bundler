(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),l=a.n(s),o=a(3),i=a(4),c=a(6),m=a(5),d=a(7),p=a(1),u=a(8),v=a.n(u),E=a(64);p.n(!0);var h=a(27),f=a(12),b=a(13),g=a.n(b),N=Object(f.a)(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).validate=function(){var e=a.props.storage.contactInfo,t=g.a.value(e.get("institutionName"),{required:!0,min:1}).approved,n=g.a.value(e.get("institutionAddress"),{required:!0,min:1}).approved,r=g.a.value(e.get("contactName"),{required:!0,min:1}).approved,s=g.a.value(e.get("contactEmail"),{required:!0,email:!0}).approved;e&&t&&n&&r&&s?a.props.storage.setStepValidation(1,!1):a.props.storage.setStepValidation(1,!0)},a.printValidationErrors=function(){var e=document.getElementsByClassName("needs-validation")[0];e.checkValidity()||e.classList.add("was-validated")},a.handleChange=function(e){a.props.storage.handleChange(e),a.validate()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(p.k)(function(){return e.props.storage.validationTrigger},function(){1===e.props.storage.validationTrigger.value&&(e.validate(),e.printValidationErrors())})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Contact Information"),r.a.createElement("form",{name:"bundlerForm",className:"needs-validation",noValidate:!0},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col pt-1"},r.a.createElement("div",{className:"form-group form-label-group required"},r.a.createElement("label",{htmlFor:"institutionName"},"Institution Name"),r.a.createElement("input",{id:"institutionName",name:"institutionName",className:"form-control",placeholder:"Institution Name",required:!0,type:"text",value:this.props.storage.contactInfo.get("institutionName"),onChange:this.handleChange}),r.a.createElement("div",{className:"valid-feedback"},this.props.storage.contactInfo.get("institutionName")," will appear in the citation information."),r.a.createElement("div",{className:"invalid-feedback"},"Please provide an institution name."))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group form-label-group required"},r.a.createElement("label",{htmlFor:"institutionAddress"},"Institution Address"),r.a.createElement("input",{id:"institutionAddress",name:"institutionAddress",className:"form-control",placeholder:"Institution Address",required:!0,type:"text",value:this.props.storage.contactInfo.get("institutionAddress"),onChange:this.handleChange}),r.a.createElement("div",{className:"valid-feedback"},"This address will appear alongside the institution name in the citation information."),r.a.createElement("div",{className:"invalid-feedback"},"Please provide an address.")))),r.a.createElement("div",{className:"row pb-4"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group form-label-group required"},r.a.createElement("label",{htmlFor:"contactName"},"Contact Name"),r.a.createElement("input",{id:"contactName",name:"contactName",className:"form-control",placeholder:"Contact Name",type:"text",value:this.props.storage.contactInfo.get("contactName"),required:!0,onChange:this.handleChange}),r.a.createElement("div",{className:"valid-feedback"},"Nice to meet you ",this.props.storage.contactInfo.get("contactName"),"!",r.a.createElement("br",null),"We just need to know who to contact if we have a question about this submission.",r.a.createElement("br",null),"Your name will not be shared."),r.a.createElement("div",{className:"invalid-feedback"},"Please provide the point of contact's name."))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group form-label-group required"},r.a.createElement("label",{htmlFor:"contactEmail"},"Contact Email Address"),r.a.createElement("input",{id:"contactEmail",name:"contactEmail",className:"form-control",placeholder:"Your Email Address",required:!0,type:"email",value:this.props.storage.contactInfo.get("contactEmail"),onChange:this.handleChange}),r.a.createElement("div",{className:"valid-feedback"},"We will email ",this.props.storage.contactInfo.get("contactEmail")," if we need to contact you about this submission.",r.a.createElement("br",null),"Your email address will not be shared."),r.a.createElement("div",{className:"invalid-feedback"},"Please provide the point of contact's email.")))),r.a.createElement("h2",null,"Submission Metadata"),r.a.createElement("div",{className:"row pt-1"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group form-label-group required"},r.a.createElement("label",{htmlFor:"submissionDescription"},"Description"),r.a.createElement("input",{id:"submissionDescription",name:"submissionDescription",className:"form-control",placeholder:"Describe what are you submitting to the project.",type:"text",required:!0,value:this.props.storage.contactInfo.get("submissionDescription"),onChange:this.handleChange}),r.a.createElement("div",{className:"valid-feedback"},"Great! We are both excited and grateful that you are sending this material to us."),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a brief description of this submission."))))))}}]),t}(n.Component)),w=a(28),S=a.n(w),y=a(11),I=a.n(y),k=a(29),C=a.n(k),A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleFiles=function(){I()("#loadingModal").modal("show");for(var e="#"+a.props.name,t=a.props.handleSelection,n=a.props.context,r=[],s=document.querySelector(e).files,l=[],o=0;o<s.length;o++)l.push(s.item(o));var i=l.map(function(e){return new Promise(function(t,a){var n=new FileReader;n.onload=function(e){return function(a){var n=new S.a.ArrayBuffer;n.append(a.target.result);var s={filename:e.name,data:a.target.result,checksum:n.end()};r.push(s),t()}}(e),n.onerror=function(e){console.error(e),a()},n.readAsArrayBuffer(e)})});Promise.all(i).then(function(){I()("#loadingModal").modal("hide"),t(r,n)})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"loadingModal",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title"},"Selected files are being processed.")),r.a.createElement("div",{className:"modal-body text-center"},r.a.createElement("img",{src:C.a,alt:"Processing files"}))))),r.a.createElement("input",{required:this.props.required,id:this.props.name,className:"form-control-file",type:"file",name:this.props.name,accept:this.props.accept,onChange:this.handleFiles,multiple:this.props.multiple,value:this.props.value}),this.props.required?r.a.createElement("div",{className:"invalid-feedback"},this.props.invalidFeedback):null)}}]),t}(n.Component),O=a(30),U=Object(f.a)(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).validate=function(){a.props.storage.newspapers.size<1?document.getElementById("one-newspaper-min").classList.remove("invisible"):document.getElementById("one-newspaper-min").classList.add("invisible")},a.cancel=function(){a.setState({name:"",location:"",state:"null",advertisementManifest:null}),document.getElementsByClassName("needs-validation")[0].classList.remove("was-validated"),document.getElementsByName("advertisementManifest")[0].value=""},a.addNewspaper=function(){a.validateAddNewspaper()&&(a.props.storage.addNewspaper({id:Object(O.a)(),name:a.state.name,location:a.state.location,state:a.state.state,advertisementManifest:a.state.advertisementManifest}),I()("#addInformation").modal("hide"),a.cancel(),a.validate())},a.handleChange=function(e){var t=e.target.value;switch(e.target.name){case"newspaperName":a.setState({name:t});break;case"newspaperLocation":a.setState({location:t});break;case"newspaperState":a.setState({state:t})}a.validateAddNewspaper()},a.handleManifiestSelection=function(e){a.setState({advertisementManifest:e[0]}),a.validateAddNewspaper()},a.validateAddNewspaper=function(){a.printValidationErrors();var e=g.a.value(a.state.name,{required:!0,min:1}).approved,t=g.a.value(a.state.location,{required:!0,min:1}).approved,n=g.a.value(a.state.state,{required:!0,min:5,max:5}).approved,r=g.a.value(a.state.advertisementManifest,{required:!0}).approved;return e&&t&&n&&r},a.printValidationErrors=function(){var e=document.getElementsByClassName("needs-validation")[0];e.checkValidity()||e.classList.add("was-validated")},a.renderTableRows=function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.location),r.a.createElement("td",null,e.state),r.a.createElement("td",null,e.advertisementManifest.filename),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-small btn-danger",onClick:function(){return a.props.storage.deleteNewspaper(e.id)}},"Delete")))},a.state={name:"",location:"",state:"null",advertisementManifest:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;Object(p.k)(function(){return e.props.storage.validationTrigger},function(){2===e.props.storage.validationTrigger.value&&e.validate()})}},{key:"render",value:function(){var e;return e=this.props.storage.newspapers.size>0?v.a.map(this.props.storage.newspapers.toJS(),this.renderTableRows):r.a.createElement("tr",null,r.a.createElement("td",{className:"lead mt-2"},"Please provide information for at least one newspaper.")),r.a.createElement("div",null,r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{id:"one-newspaper-min",className:"alert alert-danger invisible",role:"alert"},"Please provide information for at least one newspaper."),r.a.createElement("div",{className:"float-left"},r.a.createElement("h2",null,"Newspaper Information"),r.a.createElement("p",{className:"lead"},"Here you can give information about each newspaper that you collected from.")),r.a.createElement("div",{className:"float-right"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addInformation"},"Add Newspaper"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Location"),r.a.createElement("th",{scope:"col"},"State"),r.a.createElement("th",{scope:"col"},"Advertisement Manifest"),r.a.createElement("th",{scope:"col"},"Options"))),r.a.createElement("tbody",null,e)))),r.a.createElement("div",{className:"modal fade",id:"addInformation",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"addInformationLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title",id:"addInformationLabel"},"Add Newspaper & Advertisement Info")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{name:"addNewspaperForm",className:"needs-validation",noValidate:!0},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group required"},r.a.createElement("label",{htmlFor:"newspaperName"},"Newspaper Name"),r.a.createElement("input",{id:"newspaperName",name:"newspaperName",className:"form-control",placeholder:"The Virginia Gazette",onChange:this.handleChange,type:"text",value:this.state.name,required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Provide the name of the newspaper."))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group required"},r.a.createElement("label",{htmlFor:"newspaperLocation"},"Newspaper Location"),r.a.createElement("input",{id:"newspaperLocation",name:"newspaperLocation",onChange:this.handleChange,className:"form-control",placeholder:"Williamsburg",type:"text",value:this.state.location,required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Provide the location of where the newspaper was published."))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group required"},r.a.createElement("label",{htmlFor:"newspaperState"},"Newspaper State"),r.a.createElement("select",{id:"newspaperState",name:"newspaperState",className:"form-control custom-select",onChange:this.handleChange,value:this.state.state,required:!0},r.a.createElement("option",{value:"null",disabled:!0},"Select One"),r.a.createElement("option",{value:"US-AL"},"Alabama"),r.a.createElement("option",{value:"US-AK"},"Alaska"),r.a.createElement("option",{value:"US-AZ"},"Arizona"),r.a.createElement("option",{value:"US-AR"},"Arkansas"),r.a.createElement("option",{value:"US-CA"},"California"),r.a.createElement("option",{value:"US-CO"},"Colorado"),r.a.createElement("option",{value:"US-CT"},"Connecticut"),r.a.createElement("option",{value:"US-DE"},"Delaware"),r.a.createElement("option",{value:"US-DC"},"District of Columbia"),r.a.createElement("option",{value:"US-FL"},"Florida"),r.a.createElement("option",{value:"US-GA"},"Georgia"),r.a.createElement("option",{value:"US-HI"},"Hawaii"),r.a.createElement("option",{value:"US-ID"},"Idaho"),r.a.createElement("option",{value:"US-IL"},"Illinois"),r.a.createElement("option",{value:"US-IN"},"Indiana"),r.a.createElement("option",{value:"US-IA"},"Iowa"),r.a.createElement("option",{value:"US-KS"},"Kansas"),r.a.createElement("option",{value:"US-KY"},"Kentucky"),r.a.createElement("option",{value:"US-LA"},"Louisiana"),r.a.createElement("option",{value:"US-ME"},"Maine"),r.a.createElement("option",{value:"US-MD"},"Maryland"),r.a.createElement("option",{value:"US-MA"},"Massachusetts"),r.a.createElement("option",{value:"US-MI"},"Michigan"),r.a.createElement("option",{value:"US-MN"},"Minnesota"),r.a.createElement("option",{value:"US-MS"},"Mississippi"),r.a.createElement("option",{value:"US-MO"},"Missouri"),r.a.createElement("option",{value:"US-MT"},"Montana"),r.a.createElement("option",{value:"US-NE"},"Nebraska"),r.a.createElement("option",{value:"US-NV"},"Nevada"),r.a.createElement("option",{value:"US-NH"},"New Hampshire"),r.a.createElement("option",{value:"US-NJ"},"New Jersey"),r.a.createElement("option",{value:"US-NM"},"New Mexico"),r.a.createElement("option",{value:"US-NY"},"New York"),r.a.createElement("option",{value:"US-NC"},"North Carolina"),r.a.createElement("option",{value:"US-ND"},"North Dakota"),r.a.createElement("option",{value:"US-OH"},"Ohio"),r.a.createElement("option",{value:"US-OK"},"Oklahoma"),r.a.createElement("option",{value:"US-OR"},"Oregon"),r.a.createElement("option",{value:"US-PA"},"Pennsylvania"),r.a.createElement("option",{value:"US-RI"},"Rhode Island"),r.a.createElement("option",{value:"US-SC"},"South Carolina"),r.a.createElement("option",{value:"US-SD"},"South Dakota"),r.a.createElement("option",{value:"US-TN"},"Tennessee"),r.a.createElement("option",{value:"US-TX"},"Texas"),r.a.createElement("option",{value:"US-UT"},"Utah"),r.a.createElement("option",{value:"US-VT"},"Vermont"),r.a.createElement("option",{value:"US-VA"},"Virginia"),r.a.createElement("option",{value:"US-WA"},"Washington"),r.a.createElement("option",{value:"US-WV"},"West Virginia"),r.a.createElement("option",{value:"US-WI"},"Wisconsin"),r.a.createElement("option",{value:"US-WY"},"Wyoming")),r.a.createElement("div",{className:"invalid-feedback"},"Provide the state the newspaper was published in.")))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group required"},r.a.createElement("label",{htmlFor:"advertisementManifest"},"Advertisement Manifest"),r.a.createElement(A,{name:"advertisementManifest",accept:".csv",handleSelection:this.handleManifiestSelection,invalidFeedback:"Provide a CSV file with advertisement mappings.",required:!0})))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-outline-danger","data-dismiss":"modal",onClick:this.cancel},"Cancel"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.addNewspaper},"Add"))))))}}]),t}(n.Component)),M=Object(f.a)(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).handleAdvertisements=function(e,t){var n=a.props.storage.addAdvertisement;v.a.forEach(e,function(e){n(t,{id:Object(O.a)(),filename:e.filename,data:e.data,checksum:e.checksum,newspaperID:t})}),a.props.storage.validateAdvertisementUploads()},a.renderTableRows=function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.filename),r.a.createElement("td",null,e.checksum),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-small btn-danger",onClick:function(){a.props.storage.deleteAdvertisement(e.newspaperID,e.id),a.validate()}},"Delete")))},a.validate=function(){var e=!0;a.props.storage.validateAdvertisementUploads(),v.a.forEach(a.props.storage.newspapers.toJS(),function(t){t.advertisements.size<1&&(e=!1)}),e?document.getElementById("one-ad-per-paper").classList.add("invisible"):document.getElementById("one-ad-per-paper").classList.remove("invisible")},a.uploadSection=function(e){return r.a.createElement("div",{key:e.id,className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("label",{htmlFor:e.id},r.a.createElement("h3",null,e.name," Advertisements")),r.a.createElement(A,{name:e.id,multiple:!0,handleSelection:a.handleAdvertisements,context:e.id})),r.a.createElement("div",{className:"col advertisement-list"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Filename"),r.a.createElement("th",{scope:"col"},"Checksum (md5)"),r.a.createElement("th",{scope:"col"},"Options"))),r.a.createElement("tbody",null,v.a.map(e.advertisements.toJS(),a.renderTableRows)))))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(p.k)(function(){return e.props.storage.validationTrigger},function(){3===e.props.storage.validationTrigger.value&&e.validate()})}},{key:"render",value:function(){var e=v.a.map(this.props.storage.newspapers.toJS(),this.uploadSection);return r.a.createElement("div",null,r.a.createElement("div",{id:"one-ad-per-paper",className:"alert alert-danger invisible",role:"alert"},"Please upload at least one advertisement for each newspaper specified in step two."),r.a.createElement("div",{className:"clearfix pb-3"},r.a.createElement("h2",null,"Advertisement Selection"),r.a.createElement("p",{className:"lead"},"Here you can upload advertisement scans from the newspapers entered in step two.")),e)}}]),t}(n.Component)),j=Object(f.a)(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderTableRows=function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.location),r.a.createElement("td",null,e.state),r.a.createElement("td",null,e.advertisementManifest.filename),r.a.createElement("td",null,e.advertisements.size))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e;return this.props.storage.newspapers.size>0&&(e=v.a.map(this.props.storage.newspapers.toJS(),this.renderTableRows)),r.a.createElement("div",null,r.a.createElement("h2",null,"Bundle Creation Summary"),r.a.createElement("dl",{className:"row mt-3"},r.a.createElement("dt",{className:"col-sm-3"},"Unique Submission Identifier"),r.a.createElement("dd",{className:"col-sm-9"},this.props.storage.contactInfo.get("submissionIdentifier")),r.a.createElement("dt",{className:"col-sm-3"},"Institution Name"),r.a.createElement("dd",{className:"col-sm-9"},this.props.storage.contactInfo.get("institutionName")),r.a.createElement("dt",{className:"col-sm-3"},"Institution Address"),r.a.createElement("dd",{className:"col-sm-9"},this.props.storage.contactInfo.get("institutionAddress")),r.a.createElement("dt",{className:"col-sm-3"},"Contact Name"),r.a.createElement("dd",{className:"col-sm-9"},this.props.storage.contactInfo.get("contactName")),r.a.createElement("dt",{className:"col-sm-3"},"Contact Email Address"),r.a.createElement("dd",{className:"col-sm-9"},this.props.storage.contactInfo.get("contactEmail")),r.a.createElement("dt",{className:"col-sm-3"},"Submission Description"),r.a.createElement("dd",{className:"col-sm-9"},this.props.storage.contactInfo.get("submissionDescription"))),r.a.createElement("h3",null,"Source Material Summary"),r.a.createElement("div",{className:"row"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Location"),r.a.createElement("th",{scope:"col"},"State"),r.a.createElement("th",{scope:"col"},"Advertisement Manifest"),r.a.createElement("th",{scope:"col"},"Source Material File Count"))),r.a.createElement("tbody",null,e))))}}]),t}(n.Component)),x=a(65),q=a.n(x),D=a(66),T=a.n(D),V=a(67),F=a.n(V),z=a(68),B=a.n(z),L=a(69),P=a.n(L),W=a(70),R=a.n(W),J=a(71),H=a.n(J),G=a(72),Y=a.n(G),K="BagIt-Version: 0.97\nTag-File-Character-Encoding: UTF-8",Z="BagIt-Profile-Identifier: https://freedomonthemove.org/submissions/fotm-bagit-v1.json\n",X=Object(f.a)(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).stepperClass=function(e){return T()("col","bs-wizard-step",{active:e===a.props.storage.currentStep,complete:e<a.props.storage.currentStep,disabled:e>a.props.storage.currentStep})},a.back=function(){1!==a.props.storage.currentStep&&a.props.storage.setCurrentStep(a.props.storage.currentStep-1)},a.next=function(){a.props.storage.stepValidation[a.props.storage.currentStep]?a.props.storage.validate():4!==a.props.storage.currentStep&&a.props.storage.setCurrentStep(a.props.storage.currentStep+1)},a.currentPane=function(){switch(a.props.storage.currentStep){case 1:return r.a.createElement(N,{storage:a.props.storage});case 2:return r.a.createElement(U,{storage:a.props.storage});case 3:return r.a.createElement(M,{storage:a.props.storage});case 4:return r.a.createElement(j,{storage:a.props.storage});default:return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"lead text-center font-weight-normal"},"This utility will help you bundle advertisements you have collected",r.a.createElement("br",null),"into a format that can be imported into our system.",r.a.createElement("br",null),r.a.createElement("br",null),"Please contact us if you require assistance:",r.a.createElement("br",null),r.a.createElement("a",{href:"mailto:contact@freedomonthemove.org"},"contact@freedomonthemove.org"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{href:"contributing.html",target:"_blank",rel:"noopener noreferrer",className:"btn btn-lg btn-outline-dark"},"Contributor Guide"),"\xa0\xa0\xa0",r.a.createElement("button",{className:"btn btn-lg btn-primary",type:"button",onClick:a.next},"Get Started"))))}},a.buildZip=function(){I()("#buildingModal").modal("show");var e=Object(h.a)(a),t=new R.a,n=t.folder("data"),r=[];v.a.forEach(a.props.storage.newspapers.toJS(),function(t){var a="data/"+t.id+"/",s=n.folder(t.id),l=e.buildNewspaperInfo(t);s.file("newspaper-info.txt",l),s.file("advertisement-manifest.csv",t.advertisementManifest.data),r.push([S.a.hash(l),a+"newspaper-info.txt"]),r.push([t.advertisementManifest.checksum,a+"advertisement-manifest.csv"]),v.a.forEach(t.advertisements.toJS(),function(e){s.file(e.filename,e.data);var t=a+e.filename;r.push([e.checksum,t])})});var s=P.a.unparse(r,{delimiter:" "});t.file("bagit.txt",K),t.file("bag-info.txt",a.buildBagInfo()),t.file("manifest-md5.txt",s);var l=a.props.storage.contactInfo.get("institutionName")+" - FOTM Submission - "+a.props.storage.contactInfo.get("submissionIdentifier")+".zip";t.generateAsync({type:"blob"}).then(function(e){I()("#buildingModal").modal("hide"),I()("#doneModal").modal("show"),H.a.saveAs(e,l)})},a.buildNewspaperInfo=function(e){return"Newspaper-Name: "+e.name+"\n"+("Newspaper-Location: "+e.location+"\n")+("Newspaper-State: "+e.state)},a.buildBagInfo=function(){var e="Source-Organization: "+a.props.storage.contactInfo.get("institutionName")+"\n",t="Organization-Address: "+a.props.storage.contactInfo.get("institutionAddress")+"\n",n="Contact-Name: "+a.props.storage.contactInfo.get("contactName")+"\n",r="Contact-Email: "+a.props.storage.contactInfo.get("contactEmail")+"\n",s="External-Description: "+a.props.storage.contactInfo.get("submissionDescription")+"\n",l="External-Identifier: "+a.props.storage.contactInfo.get("submissionIdentifier")+"\n",o="Bagging-Date: "+B()().toISOString();return Z+e+t+n+r+s+l+o},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center"},r.a.createElement("img",{className:"icon",src:F.a,alt:"Enslaved person fleeing with a bindle stick"}),r.a.createElement("h1",{className:"d-inline-block align-middle display-4"},"Freedom on the Move",r.a.createElement("br",null),"Submission Bundler")),r.a.createElement("div",{className:"container"},this.props.storage.currentStep>0&&r.a.createElement("div",{className:"row bs-wizard pb-5"},r.a.createElement("div",{className:this.stepperClass(1)},r.a.createElement("div",{className:"text-center bs-wizard-stepnum"},"Step 1"),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar"})),r.a.createElement("span",{className:"bs-wizard-dot"}),r.a.createElement("div",{className:"bs-wizard-info text-center"},"Contact Information")),r.a.createElement("div",{className:this.stepperClass(2)},r.a.createElement("div",{className:"text-center bs-wizard-stepnum"},"Step 2"),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar"})),r.a.createElement("span",{className:"bs-wizard-dot"}),r.a.createElement("div",{className:"bs-wizard-info text-center"},"Newspaper Information")),r.a.createElement("div",{className:this.stepperClass(3)},r.a.createElement("div",{className:"text-center bs-wizard-stepnum"},"Step 3"),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar"})),r.a.createElement("span",{className:"bs-wizard-dot"}),r.a.createElement("div",{className:"bs-wizard-info text-center"},"Ad Scan Selection")),r.a.createElement("div",{className:this.stepperClass(4)},r.a.createElement("div",{className:"text-center bs-wizard-stepnum"},"Step 4"),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar"})),r.a.createElement("span",{className:"bs-wizard-dot"}),r.a.createElement("div",{className:"bs-wizard-info text-center"},"Build Bundle"))),this.currentPane(),r.a.createElement("div",{className:"mx-auto pt-4 pb-5 clearfix"},this.props.storage.currentStep>1&&r.a.createElement("button",{className:"btn btn-outline-secondary float-left",type:"button",onClick:this.back},"Back"),this.props.storage.currentStep>0&&this.props.storage.currentStep<4?r.a.createElement("button",{className:"btn btn-primary float-right",type:"button",onClick:this.next},"Next"):null,4===this.props.storage.currentStep&&r.a.createElement("button",{type:"button",className:"btn btn-primary float-right",onClick:this.buildZip},"Build Bundle"))),r.a.createElement(q.a,{href:"https://github.com/FreedomOnTheMove/Submission-Bundler",bannerColor:"#5b2d89",octoColor:"#fff"}),r.a.createElement("div",{className:"mx-auto text-center mb-5"},r.a.createElement("small",{className:"font-weight-light"},"Rediscover the stories of self liberating people.",r.a.createElement("br",null)," ",r.a.createElement("a",{href:"https://freedomonthemove.org"},"Freedom On The Move Homepage"))),r.a.createElement("div",{id:"buildingModal",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title"},"Bundle is being created.")),r.a.createElement("div",{className:"modal-body text-center"},r.a.createElement("img",{src:C.a,alt:"Spinning loader icon"}))))),r.a.createElement("div",{id:"doneModal",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title"},"All done!")),r.a.createElement("div",{className:"modal-body text-center"},r.a.createElement("img",{width:"300",src:Y.a,alt:"Green animated checkmark"}),r.a.createElement("br",null),"Please send this bundle to ",r.a.createElement("a",{href:"mailto:contact@freedomonthemove.org"},"contact@freedomonthemove.org"),".")))))}}]),t}(n.Component)),_=(a(120),a(121),a(122),new function e(){Object(o.a)(this,e),p.e(this,{validationTrigger:p.j(0),currentStep:0,stepValidation:[!1,!0,!0,!0,!1],contactInfo:new p.b(new Map([["institutionName",""],["institutionAddress",""],["contactName",""],["contactEmail",""],["submissionDescription",""],["submissionIdentifier",Object(E.a)()]])),newspapers:new p.b,handleChange:p.d.bound(function(e){var t=e.target.value;switch(e.target.name){case"institutionName":this.contactInfo.set("institutionName",t);break;case"institutionAddress":this.contactInfo.set("institutionAddress",t);break;case"contactName":this.contactInfo.set("contactName",t);break;case"contactEmail":this.contactInfo.set("contactEmail",t);break;case"submissionDescription":this.contactInfo.set("submissionDescription",t)}}),addNewspaper:p.d.bound(function(e){e.advertisements=new p.b,this.newspapers.set(e.id,e),this.setStepValidation(2,!1)}),deleteNewspaper:p.d.bound(function(e){this.newspapers.delete(e),0===this.newspapers.size&&this.setStepValidation(2,!0)}),addAdvertisement:p.d.bound(function(e,t){this.newspapers.get(e).advertisements.set(t.id,t)}),deleteAdvertisement:p.d.bound(function(e,t){this.newspapers.get(e).advertisements.delete(t)}),validateAdvertisementUploads:p.d.bound(function(){var e=!1;v.a.forEach(this.newspapers.values(),function(t){0===t.advertisements.size&&(e=!0)}),e?this.setStepValidation(3,!0):this.setStepValidation(3,!1)}),setCurrentStep:p.d.bound(function(e){this.currentStep=e}),setStepValidation:p.d.bound(function(e,t){this.stepValidation[e]=t}),validate:p.d.bound(function(){this.validationTrigger=p.j(this.currentStep)})})});p.n(!0);var Q=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(X,{storage:_})}}]),t}(n.Component);l.a.render(r.a.createElement(Q,null),document.getElementById("root"))},29:function(e,t,a){e.exports=a.p+"static/media/loading.4806ff66.gif"},67:function(e,t,a){e.exports=a.p+"static/media/fotm.48f15f87.png"},72:function(e,t,a){e.exports=a.p+"static/media/done.779b9dc3.gif"},73:function(e,t,a){e.exports=a(124)},84:function(e,t){},86:function(e,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.a943384c.chunk.js.map